<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Zif::Clickable
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Zif::Clickable";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span>
     &raquo; 
    <span class="title">Clickable</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Zif::Clickable
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/lib/zif/clickable.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A mixin to allow compatibility with <span class='object_link'><a href="Services/InputService.html" title="Zif::Services::InputService (class)">Services::InputService</a></span></p>

<p>Set click handler attributes <span class='object_link'><a href="#on_mouse_up-instance_method" title="Zif::Clickable#on_mouse_up (method)">#on_mouse_up</a></span>, <span class='object_link'><a href="#on_mouse_down-instance_method" title="Zif::Clickable#on_mouse_down (method)">#on_mouse_down</a></span>, <span class='object_link'><a href="#on_mouse_changed-instance_method" title="Zif::Clickable#on_mouse_changed (method)">#on_mouse_changed</a></span> to Lambdas accepting a <code>point</code> argument to do something with this object when clicked.</p>

<p>This also works for simple single touch responses on mobile targets.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_mouse_changed-instance_method" title="#on_mouse_changed (instance method)">#<strong>on_mouse_changed</strong>  &#x21d2; Lambda </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when the mouse moves while click is down.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_mouse_down-instance_method" title="#on_mouse_down (instance method)">#<strong>on_mouse_down</strong>  &#x21d2; Lambda </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when the mouse click begins.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_mouse_up-instance_method" title="#on_mouse_up (instance method)">#<strong>on_mouse_up</strong>  &#x21d2; Lambda </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when the mouse click ends.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#absorb_click%3F-instance_method" title="#absorb_click? (instance method)">#<strong>absorb_click?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The return value of this method informs <span class='object_link'><a href="Services/InputService.html#process_click-instance_method" title="Zif::Services::InputService#process_click (method)">Services::InputService#process_click</a></span> that it should stop checking subsequent eligible clickables for a response.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clicked%3F-instance_method" title="#clicked? (instance method)">#<strong>clicked?</strong>(point, kind = :up)  &#x21d2; Object<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>If the click is within the rectangle of this object, return this object.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="on_mouse_changed=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="on_mouse_changed-instance_method">
  
    #<strong>on_mouse_changed</strong>  &#x21d2; <tt>Lambda</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Called when the mouse moves while click is down.  Called with <code>point</code> [x, y] position Array arg.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Lambda</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Called when the mouse moves while click is down.  Called with <code>point</code> [x, y] position Array arg.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/clickable.rb', line 16</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_mouse_changed'>on_mouse_changed</span>
  <span class='ivar'>@on_mouse_changed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="on_mouse_down=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="on_mouse_down-instance_method">
  
    #<strong>on_mouse_down</strong>  &#x21d2; <tt>Lambda</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Called when the mouse click begins.  Called with <code>point</code> [x, y] position Array arg.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Lambda</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Called when the mouse click begins.  Called with <code>point</code> [x, y] position Array arg.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/clickable.rb', line 10</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_mouse_down'>on_mouse_down</span>
  <span class='ivar'>@on_mouse_down</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="on_mouse_up=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="on_mouse_up-instance_method">
  
    #<strong>on_mouse_up</strong>  &#x21d2; <tt>Lambda</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Called when the mouse click ends.  Called with <code>point</code> [x, y] position Array arg.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Lambda</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Called when the mouse click ends.  Called with <code>point</code> [x, y] position Array arg.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/clickable.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_mouse_up'>on_mouse_up</span>
  <span class='ivar'>@on_mouse_up</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="absorb_click?-instance_method">
  
    #<strong>absorb_click?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The return value of this method informs <span class='object_link'><a href="Services/InputService.html#process_click-instance_method" title="Zif::Services::InputService#process_click (method)">Services::InputService#process_click</a></span> that it should stop checking subsequent eligible clickables for a response. Imagine two overlapping clickables, if you want the one underneath this one to respond to a click, this should return false.  If you only want the top clickable to respond, this should return true. The default behavior is that it returns true if any standard click handlers are defined (<span class='object_link'><a href="#on_mouse_up-instance_method" title="Zif::Clickable#on_mouse_up (method)">#on_mouse_up</a></span>, <span class='object_link'><a href="#on_mouse_down-instance_method" title="Zif::Clickable#on_mouse_down (method)">#on_mouse_down</a></span>, <span class='object_link'><a href="#on_mouse_changed-instance_method" title="Zif::Clickable#on_mouse_changed (method)">#on_mouse_changed</a></span>).  To customize this behavior, override this method in your class.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Should clicks propagate through this object?</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/clickable.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_absorb_click?'>absorb_click?</span>
  <span class='id identifier rubyid_on_mouse_up'>on_mouse_up</span> <span class='op'>||</span> <span class='id identifier rubyid_on_mouse_down'>on_mouse_down</span> <span class='op'>||</span> <span class='id identifier rubyid_on_mouse_changed'>on_mouse_changed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="clicked?-instance_method">
  
    #<strong>clicked?</strong>(point, kind = :up)  &#x21d2; <tt>Object</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns If the click is within the rectangle of this object, return this object. Otherwise return <code>nil</code>.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>point</span>
      
      
        <span class='type'>(<tt>Array&lt;Integer&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p><tt>[x, y]</tt> position Array of the current mouse click.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>kind</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:up</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The kind of click coming through, one of <tt>[:up, :down, :changed]</tt></p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Object</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>If the click is within the rectangle of this object, return this object. Otherwise return <code>nil</code>.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/lib/zif/clickable.rb', line 34</span>

<span class='kw'>def</span> <span class='id identifier rubyid_clicked?'>clicked?</span><span class='lparen'>(</span><span class='id identifier rubyid_point'>point</span><span class='comma'>,</span> <span class='id identifier rubyid_kind'>kind</span><span class='op'>=</span><span class='symbol'>:up</span><span class='rparen'>)</span>
  <span class='comment'># puts &quot;Clickable:#{@name}: clicked? #{kind} #{kind.class} #{point} -&gt; #{rect} = #{point.inside_rect?(self)}&quot;
</span>  <span class='kw'>return</span> <span class='kw'>nil</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_kind'>kind</span> <span class='op'>==</span> <span class='symbol'>:down</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_point'>point</span><span class='period'>.</span><span class='id identifier rubyid_inside_rect?'>inside_rect?</span><span class='lparen'>(</span><span class='kw'>self</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_click_handler'>click_handler</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_kind'>kind</span>
                  <span class='kw'>when</span> <span class='symbol'>:up</span>
                    <span class='id identifier rubyid_on_mouse_up'>on_mouse_up</span>
                  <span class='kw'>when</span> <span class='symbol'>:down</span>
                    <span class='id identifier rubyid_on_mouse_down'>on_mouse_down</span>
                  <span class='kw'>when</span> <span class='symbol'>:changed</span>
                    <span class='id identifier rubyid_on_mouse_changed'>on_mouse_changed</span>
                  <span class='kw'>end</span>

  <span class='comment'># puts &quot;Clickable:#{@name}: click handler: #{kind} #{click_handler}&quot;
</span>
  <span class='id identifier rubyid_click_handler'>click_handler</span><span class='op'>&amp;.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='comma'>,</span> <span class='id identifier rubyid_point'>point</span><span class='rparen'>)</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu Aug 10 16:30:37 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.0).
</div>

    </div>
  </body>
</html>