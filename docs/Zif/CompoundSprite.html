<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Zif::CompoundSprite
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Zif::CompoundSprite";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span>
     &raquo; 
    <span class="title">CompoundSprite</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Zif::CompoundSprite
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></li>
          
            <li class="next">Zif::CompoundSprite</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/zif/compound_sprite.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>A CompoundSprite is a collection of sprites which can be positioned as a group, and are drawn using <span class='object_link'><a href="#draw_override-instance_method" title="Zif::CompoundSprite#draw_override (method)">#draw_override</a></span></p>

<p>This class acts like a (inherits from) spriteSprite but can itself accept a list of <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> and <span class='object_link'><a href="#labels-instance_method" title="Zif::CompoundSprite#labels (method)">#labels</a></span>, like <tt>$gtk.args.outputs</tt>.  Sprites and labels added to these arrays will be drawn using the <span class='object_link'><a href="#draw_override-instance_method" title="Zif::CompoundSprite#draw_override (method)">#draw_override</a></span> method, which is checked by DragonRuby GTK during the draw cycle.</p>

<p>You can use <code>CompoundSprite</code> to draw several sprites which need to move together or relative to each other.  You can move the entire collection by changing the <code>CompoundSprite</code>‘s <code>x</code> and <code>y</code> values, and you can move the component sprites relative to each other individually. This is because this object itself is not drawn directly, per se (+@path+ is ignored), but has <code>x</code>, <code>y</code>, <code>w</code>, <code>h</code>, <code>source_x</code>, <code>source_y</code>, <code>source_w</code>, <code>source_h</code> values which act as modifiers to the contents of <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> it is drawing.</p>

<p>A sprite which has been added to the <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> array will be drawn in the following way:</p>
<ul><li>
<p>The <code>CompoundSprite</code>‘s <code>x</code>, <code>y</code>, <code>w</code>, <code>h</code> act as a viewable rectangle on the main screen and are absolute values compared to the game resolution.  Sprites which would be drawn completely outside of this rect will be ignored. **Important!** This is unlike Render Targets or regular sprites, which cut off the image cleanly at these boundaries.  The <code>CompoundSprite</code> is a virtual effect which can’t slice a sprite in half.  Therefore, the entire sprite is rendered if even a portion is visible in the viewable rect.</p>
</li><li>
<p>The <code>CompoundSprite</code>‘s <code>source_x</code>, <code>source_y</code>, <code>source_w</code>, <code>source_h</code> act like these attributes would if displaying a normal image instead of a collection of sprites.  They are relative values of the <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> it is drawing.</p>
<ul><li>
<p><code>source_x</code>, <code>source_y</code> reposition the origin of the viewport into the <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> array. E.g. If you have a sprite @ <code>0x/0y</code> with <code>10w/10h</code> it will not be drawn if the <code>CompoundSprite</code>‘s <code>source_x</code> and <code>source_y</code> exceeds <code>10/10</code></p>
</li><li>
<p><code>source_w</code>, <code>source_h</code> describe the extent of the viewport into the <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> array. E.g. If the <code>CompoundSprite</code> has <tt>0x, 0y, 20w, 20h</tt>, and <tt>0 source_x, 0 source_y, 10 source_w, 10 source_h</tt>, the example <tt>0x, 0y, 10w, 10h</tt> sprite will be displayed twice as large as normal.</p>
</li><li>
<p>**Important!** As above, unlike a normal sprite, changing the <code>source_x</code>, <code>source_y</code>, <code>source_w</code>, <code>source_h</code> will not cause sprites drawn this way to be sliced in any way.  It will simply zoom and pan the complete sprites, and possibly ignore them if they exceed the extent of the viewable rectangle or the source viewport.</p>
</li></ul>
</li></ul>

<p>This class is the basis for <span class='object_link'><a href="Layers/ActiveLayer.html" title="Zif::Layers::ActiveLayer (class)">Layers::ActiveLayer</a></span> and many of the UI elements (<span class='object_link'><a href="UI/TwoStageButton.html" title="Zif::UI::TwoStageButton (class)">UI::TwoStageButton</a></span>, <span class='object_link'><a href="UI/NinePanel.html" title="Zif::UI::NinePanel (class)">UI::NinePanel</a></span>, etc).</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'>
<p>The CompoundSprite position causes translation on the sprites it contains</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_alduin'>alduin</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Sprite.html#initialize-instance_method" title="Zif::Sprite#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>100</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='int'>82</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='int'>66</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sprites/dragon_1.png</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>
<span class='id identifier rubyid_bahamut'>bahamut</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Sprite.html#initialize-instance_method" title="Zif::Sprite#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>200</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='int'>82</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='int'>66</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_flip_horizontally'>flip_horizontally</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>sprites/dragon_1.png</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span>

<span class='comment'># Now we have 2 dragons facing each other, but we are not adding these to args.outputs.sprites individually.
</span><span class='comment'># They are on a battlefield and can be moved in unison!
</span>
<span class='id identifier rubyid_battlefield'>battlefield</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='op'>::</span><span class='const'>CompoundSprite</span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="#initialize-instance_method" title="Zif::CompoundSprite#initialize (method)">new</a></span></span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cs'>cs</span><span class='op'>|</span>
  <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_sprites'>sprites</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='id identifier rubyid_alduin'>alduin</span><span class='comma'>,</span> <span class='id identifier rubyid_bahamut'>bahamut</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>130</span> <span class='comment'># This causes bahamut to appear at x == 330 on screen
</span>  <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>20</span>  <span class='comment'># This causes alduin to appear at y == 120 on screen
</span>  <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='int'>300</span> <span class='comment'># To show everything, should be at least as wide as the farthest x value + width (200+82)
</span>  <span class='id identifier rubyid_cs'>cs</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='int'>200</span> <span class='comment'># To show everything, should be at least as high as the largest y value + height (100+66)
</span>  <span class='comment'># No path is defined, CompoundSprite is for organization only and does not display directly.
</span><span class='kw'>end</span>

<span class='comment'># Add the battlefield to outputs.
</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_outputs'>outputs</span><span class='period'>.</span><span class='id identifier rubyid_sprites'>sprites</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_battlefield'>battlefield</span></code></pre>
    
  </div>


  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="../ExampleApp/CompoundSpriteTest.html" title="ExampleApp::CompoundSpriteTest (class)">ExampleApp::CompoundSpriteTest</a></span></li>
    
  </ul>

</div><div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="../ExampleApp/FormField.html" title="ExampleApp::FormField (class)">ExampleApp::FormField</a></span>, <span class='object_link'><a href="../ExampleApp/ProgressBar.html" title="ExampleApp::ProgressBar (class)">ExampleApp::ProgressBar</a></span>, <span class='object_link'><a href="Layers/ActiveLayer.html" title="Zif::Layers::ActiveLayer (class)">Layers::ActiveLayer</a></span>, <span class='object_link'><a href="UI/NinePanel.html" title="Zif::UI::NinePanel (class)">UI::NinePanel</a></span>, <span class='object_link'><a href="UI/TwoStageButton.html" title="Zif::UI::TwoStageButton (class)">UI::TwoStageButton</a></span></p>
</div>



  <h2>Constant Summary</h2>
  
  <h3 class="inherited">Constants inherited
     from <span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Sprite.html#BLENDMODE-constant" title="Zif::Sprite::BLENDMODE (constant)">Sprite::BLENDMODE</a></span></p>


  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#labels-instance_method" title="#labels (instance method)">#<strong>labels</strong>  &#x21d2; Array&lt;Zif::UI::Label&gt; </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of labels this CompoundSprite is rendering.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#sprites-instance_method" title="#sprites (instance method)">#<strong>sprites</strong>  &#x21d2; Array&lt;Zif::Sprite&gt; </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The list of sprites this CompoundSprite is rendering.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Sprite.html#a-instance_method" title="Zif::Sprite#a (method)">#a</a></span>, <span class='object_link'><a href="Sprite.html#angle-instance_method" title="Zif::Sprite#angle (method)">#angle</a></span>, <span class='object_link'><a href="Sprite.html#b-instance_method" title="Zif::Sprite#b (method)">#b</a></span>, <span class='object_link'><a href="Sprite.html#g-instance_method" title="Zif::Sprite#g (method)">#g</a></span>, <span class='object_link'><a href="Sprite.html#h-instance_method" title="Zif::Sprite#h (method)">#h</a></span>, <span class='object_link'><a href="Sprite.html#logical_x-instance_method" title="Zif::Sprite#logical_x (method)">#logical_x</a></span>, <span class='object_link'><a href="Sprite.html#logical_y-instance_method" title="Zif::Sprite#logical_y (method)">#logical_y</a></span>, <span class='object_link'><a href="Sprite.html#name-instance_method" title="Zif::Sprite#name (method)">#name</a></span>, <span class='object_link'><a href="Sprite.html#path-instance_method" title="Zif::Sprite#path (method)">#path</a></span>, <span class='object_link'><a href="Sprite.html#r-instance_method" title="Zif::Sprite#r (method)">#r</a></span>, <span class='object_link'><a href="Sprite.html#render_target-instance_method" title="Zif::Sprite#render_target (method)">#render_target</a></span>, <span class='object_link'><a href="Sprite.html#source_h-instance_method" title="Zif::Sprite#source_h (method)">#source_h</a></span>, <span class='object_link'><a href="Sprite.html#source_w-instance_method" title="Zif::Sprite#source_w (method)">#source_w</a></span>, <span class='object_link'><a href="Sprite.html#source_x-instance_method" title="Zif::Sprite#source_x (method)">#source_x</a></span>, <span class='object_link'><a href="Sprite.html#source_y-instance_method" title="Zif::Sprite#source_y (method)">#source_y</a></span>, <span class='object_link'><a href="Sprite.html#w-instance_method" title="Zif::Sprite#w (method)">#w</a></span>, <span class='object_link'><a href="Sprite.html#x-instance_method" title="Zif::Sprite#x (method)">#x</a></span>, <span class='object_link'><a href="Sprite.html#y-instance_method" title="Zif::Sprite#y (method)">#y</a></span>, <span class='object_link'><a href="Sprite.html#z_index-instance_method" title="Zif::Sprite#z_index (method)">#z_index</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Clickable.html" title="Zif::Clickable (module)">Clickable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Clickable.html#on_mouse_changed-instance_method" title="Zif::Clickable#on_mouse_changed (method)">#on_mouse_changed</a></span>, <span class='object_link'><a href="Clickable.html#on_mouse_down-instance_method" title="Zif::Clickable#on_mouse_down (method)">#on_mouse_down</a></span>, <span class='object_link'><a href="Clickable.html#on_mouse_up-instance_method" title="Zif::Clickable#on_mouse_up (method)">#on_mouse_up</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Actions/Animatable.html" title="Zif::Actions::Animatable (module)">Actions::Animatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions/Animatable.html#animation_sequences-instance_method" title="Zif::Actions::Animatable#animation_sequences (method)">#animation_sequences</a></span>, <span class='object_link'><a href="Actions/Animatable.html#cur_animation-instance_method" title="Zif::Actions::Animatable#cur_animation (method)">#cur_animation</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Actions/Actionable.html" title="Zif::Actions::Actionable (module)">Actions::Actionable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions/Actionable.html#actions-instance_method" title="Zif::Actions::Actionable#actions (method)">#actions</a></span>, <span class='object_link'><a href="Actions/Actionable.html#dirty-instance_method" title="Zif::Actions::Actionable#dirty (method)">#dirty</a></span></p>


  
    <h2>
      1. Public Interface
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(name = Zif.unique_name(&#39;compound_sprite&#39;))  &#x21d2; CompoundSprite </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of CompoundSprite.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#source_rect-instance_method" title="#source_rect (instance method)">#<strong>source_rect</strong>  &#x21d2; Array&lt;Numeric&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Calls <span class='object_link'><a href="Sprite.html#source_rect-instance_method" title="Zif::Sprite#source_rect (method)">Sprite#source_rect</a></span> after ensuring the <code>source_x</code> etc attrs are set to something.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      2. Private-ish methods
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#draw_override-instance_method" title="#draw_override (instance method)">#<strong>draw_override</strong>(ffi_draw)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
<p>This class defines #draw_override, which is used by DragonRuby GTK internals.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Sprite</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Sprite.html#blend-instance_method" title="Zif::Sprite#blend (method)">#blend</a></span>, <span class='object_link'><a href="Sprite.html#blend=-instance_method" title="Zif::Sprite#blend= (method)">#blend=</a></span>, <span class='object_link'><a href="Sprite.html#center-instance_method" title="Zif::Sprite#center (method)">#center</a></span>, <span class='object_link'><a href="Sprite.html#center_x-instance_method" title="Zif::Sprite#center_x (method)">#center_x</a></span>, <span class='object_link'><a href="Sprite.html#center_y-instance_method" title="Zif::Sprite#center_y (method)">#center_y</a></span>, <span class='object_link'><a href="Sprite.html#clicked%3F-instance_method" title="Zif::Sprite#clicked? (method)">#clicked?</a></span>, <span class='object_link'><a href="Sprite.html#color-instance_method" title="Zif::Sprite#color (method)">#color</a></span>, <span class='object_link'><a href="Sprite.html#color=-instance_method" title="Zif::Sprite#color= (method)">#color=</a></span>, <span class='object_link'><a href="Sprite.html#dup_and_assign-instance_method" title="Zif::Sprite#dup_and_assign (method)">#dup_and_assign</a></span>, <span class='object_link'><a href="Sprite.html#exclude_from_serialize-instance_method" title="Zif::Sprite#exclude_from_serialize (method)">#exclude_from_serialize</a></span>, <span class='object_link'><a href="Sprite.html#hide-instance_method" title="Zif::Sprite#hide (method)">#hide</a></span>, <span class='object_link'><a href="Sprite.html#rect-instance_method" title="Zif::Sprite#rect (method)">#rect</a></span>, <span class='object_link'><a href="Sprite.html#rect_array_to_hash-class_method" title="Zif::Sprite.rect_array_to_hash (method)">rect_array_to_hash</a></span>, <span class='object_link'><a href="Sprite.html#rect_array_to_source_hash-class_method" title="Zif::Sprite.rect_array_to_source_hash (method)">rect_array_to_source_hash</a></span>, <span class='object_link'><a href="Sprite.html#rect_hash-instance_method" title="Zif::Sprite#rect_hash (method)">#rect_hash</a></span>, <span class='object_link'><a href="Sprite.html#rect_hash_to_source_hash-class_method" title="Zif::Sprite.rect_hash_to_source_hash (method)">rect_hash_to_source_hash</a></span>, <span class='object_link'><a href="Sprite.html#show-instance_method" title="Zif::Sprite#show (method)">#show</a></span>, <span class='object_link'><a href="Sprite.html#source_as_rect_hash-instance_method" title="Zif::Sprite#source_as_rect_hash (method)">#source_as_rect_hash</a></span>, <span class='object_link'><a href="Sprite.html#source_center-instance_method" title="Zif::Sprite#source_center (method)">#source_center</a></span>, <span class='object_link'><a href="Sprite.html#source_is_set%3F-instance_method" title="Zif::Sprite#source_is_set? (method)">#source_is_set?</a></span>, <span class='object_link'><a href="Sprite.html#source_rect_hash-instance_method" title="Zif::Sprite#source_rect_hash (method)">#source_rect_hash</a></span>, <span class='object_link'><a href="Sprite.html#source_wh-instance_method" title="Zif::Sprite#source_wh (method)">#source_wh</a></span>, <span class='object_link'><a href="Sprite.html#source_xy-instance_method" title="Zif::Sprite#source_xy (method)">#source_xy</a></span>, <span class='object_link'><a href="Sprite.html#to_h-instance_method" title="Zif::Sprite#to_h (method)">#to_h</a></span>, <span class='object_link'><a href="Sprite.html#view_actual_size!-instance_method" title="Zif::Sprite#view_actual_size! (method)">#view_actual_size!</a></span>, <span class='object_link'><a href="Sprite.html#wh-instance_method" title="Zif::Sprite#wh (method)">#wh</a></span>, <span class='object_link'><a href="Sprite.html#xy-instance_method" title="Zif::Sprite#xy (method)">#xy</a></span>, <span class='object_link'><a href="Sprite.html#zoom_factor-instance_method" title="Zif::Sprite#zoom_factor (method)">#zoom_factor</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Clickable.html" title="Zif::Clickable (module)">Clickable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Clickable.html#absorb_click%3F-instance_method" title="Zif::Clickable#absorb_click? (method)">#absorb_click?</a></span>, <span class='object_link'><a href="Clickable.html#clicked%3F-instance_method" title="Zif::Clickable#clicked? (method)">#clicked?</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Actions/Animatable.html" title="Zif::Actions::Animatable (module)">Actions::Animatable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions/Animatable.html#new_basic_animation-instance_method" title="Zif::Actions::Animatable#new_basic_animation (method)">#new_basic_animation</a></span>, <span class='object_link'><a href="Actions/Animatable.html#new_tiled_animation-instance_method" title="Zif::Actions::Animatable#new_tiled_animation (method)">#new_tiled_animation</a></span>, <span class='object_link'><a href="Actions/Animatable.html#register_animation_sequence-instance_method" title="Zif::Actions::Animatable#register_animation_sequence (method)">#register_animation_sequence</a></span>, <span class='object_link'><a href="Actions/Animatable.html#run_animation_sequence-instance_method" title="Zif::Actions::Animatable#run_animation_sequence (method)">#run_animation_sequence</a></span>, <span class='object_link'><a href="Actions/Animatable.html#stop_animating-instance_method" title="Zif::Actions::Animatable#stop_animating (method)">#stop_animating</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Actions/Actionable.html" title="Zif::Actions::Actionable (module)">Actions::Actionable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Actions/Actionable.html#bounce_forever_around-instance_method" title="Zif::Actions::Actionable#bounce_forever_around (method)">#bounce_forever_around</a></span>, <span class='object_link'><a href="Actions/Actionable.html#delayed_action-instance_method" title="Zif::Actions::Actionable#delayed_action (method)">#delayed_action</a></span>, <span class='object_link'><a href="Actions/Actionable.html#fade_in-instance_method" title="Zif::Actions::Actionable#fade_in (method)">#fade_in</a></span>, <span class='object_link'><a href="Actions/Actionable.html#fade_out-instance_method" title="Zif::Actions::Actionable#fade_out (method)">#fade_out</a></span>, <span class='object_link'><a href="Actions/Actionable.html#fade_out_and_in_forever-instance_method" title="Zif::Actions::Actionable#fade_out_and_in_forever (method)">#fade_out_and_in_forever</a></span>, <span class='object_link'><a href="Actions/Actionable.html#new_action-instance_method" title="Zif::Actions::Actionable#new_action (method)">#new_action</a></span>, <span class='object_link'><a href="Actions/Actionable.html#perform_actions-instance_method" title="Zif::Actions::Actionable#perform_actions (method)">#perform_actions</a></span>, <span class='object_link'><a href="Actions/Actionable.html#run_action-instance_method" title="Zif::Actions::Actionable#run_action (method)">#run_action</a></span>, <span class='object_link'><a href="Actions/Actionable.html#running_actions%3F-instance_method" title="Zif::Actions::Actionable#running_actions? (method)">#running_actions?</a></span>, <span class='object_link'><a href="Actions/Actionable.html#stop_action-instance_method" title="Zif::Actions::Actionable#stop_action (method)">#stop_action</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Serializable.html" title="Zif::Serializable (module)">Serializable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Serializable.html#exclude_from_serialize-instance_method" title="Zif::Serializable#exclude_from_serialize (method)">#exclude_from_serialize</a></span>, <span class='object_link'><a href="Serializable.html#inspect-instance_method" title="Zif::Serializable#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="Serializable.html#serialize-instance_method" title="Zif::Serializable#serialize (method)">#serialize</a></span>, <span class='object_link'><a href="Serializable.html#to_s-instance_method" title="Zif::Serializable#to_s (method)">#to_s</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Assignable.html" title="Zif::Assignable (module)">Assignable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Assignable.html#assign-instance_method" title="Zif::Assignable#assign (method)">#assign</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(name = Zif.unique_name(&#39;compound_sprite&#39;))  &#x21d2; <tt><span class='object_link'><a href="" title="Zif::CompoundSprite (class)">CompoundSprite</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of CompoundSprite.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>name</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Zif.unique_name(&#39;compound_sprite&#39;)</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>The name of this compound sprite, mostly used for debugging purposes</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83
84
85</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/zif/compound_sprite.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='const'>Zif</span><span class='period'>.</span><span class='id identifier rubyid_unique_name'>unique_name</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>compound_sprite</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='ivar'>@sprites</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@labels</span>  <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="labels=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="labels-instance_method">
  
    #<strong>labels</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="UI/Label.html" title="Zif::UI::Label (class)">Zif::UI::Label</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The list of labels this CompoundSprite is rendering.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="UI/Label.html" title="Zif::UI::Label (class)">Zif::UI::Label</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The list of labels this CompoundSprite is rendering.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


75
76
77</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/zif/compound_sprite.rb', line 75</span>

<span class='kw'>def</span> <span class='id identifier rubyid_labels'>labels</span>
  <span class='ivar'>@labels</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="sprites=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="sprites-instance_method">
  
    #<strong>sprites</strong>  &#x21d2; <tt>Array&lt;<span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Zif::Sprite</a></span>&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns The list of sprites this CompoundSprite is rendering.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;<span class='object_link'><a href="Sprite.html" title="Zif::Sprite (class)">Zif::Sprite</a></span>&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The list of sprites this CompoundSprite is rendering.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/zif/compound_sprite.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_sprites'>sprites</span>
  <span class='ivar'>@sprites</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="draw_override-instance_method">
  
    #<strong>draw_override</strong>(ffi_draw)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

<p>This class defines #draw_override, which is used by DragonRuby GTK internals. This method contains the logic for grouping the <span class='object_link'><a href="#sprites-instance_method" title="Zif::CompoundSprite#sprites (method)">#sprites</a></span> and <span class='object_link'><a href="#labels-instance_method" title="Zif::CompoundSprite#labels (method)">#labels</a></span> together.</p>

<p>You should not need to call this directly. DRGTK docs on #draw_override: <a href="http://docs.dragonruby.org/#----performance---static-sprites-as-classes-with-custom-drawing---main.rb">docs.dragonruby.org/#—-performance—static-sprites-as-classes-with-custom-drawing—main.rb</a></p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/zif/compound_sprite.rb', line 106</span>

<span class='kw'>def</span> <span class='id identifier rubyid_draw_override'>draw_override</span><span class='lparen'>(</span><span class='id identifier rubyid_ffi_draw'>ffi_draw</span><span class='rparen'>)</span>
  <span class='comment'># $services&amp;.named(:tracer)&amp;.mark(&quot;CompoundSprite(#{@name})#draw_override: begin&quot;)
</span>  <span class='comment'># Treat an alpha setting of 0 as an indication that it should be hidden, to match Sprite behavior
</span>  <span class='kw'>return</span> <span class='kw'>if</span> <span class='ivar'>@a</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>

  <span class='id identifier rubyid_view_actual_size!'>view_actual_size!</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source_is_set?'>source_is_set?</span>

  <span class='id identifier rubyid_x_zoom'>x_zoom</span><span class='comma'>,</span> <span class='id identifier rubyid_y_zoom'>y_zoom</span> <span class='op'>=</span> <span class='id identifier rubyid_zoom_factor'>zoom_factor</span>
  <span class='id identifier rubyid_cur_source_right'>cur_source_right</span> <span class='op'>=</span> <span class='ivar'>@source_x</span> <span class='op'>+</span> <span class='ivar'>@source_w</span>
  <span class='id identifier rubyid_cur_source_top'>cur_source_top</span>   <span class='op'>=</span> <span class='ivar'>@source_y</span> <span class='op'>+</span> <span class='ivar'>@source_h</span>

  <span class='comment'># Since this &quot;sprite&quot; itself won&#39;t actually be drawn, we can use the positioning attributes to control the
</span>  <span class='comment'># contained sprites.
</span>  <span class='comment'># x/y: linear offset
</span>  <span class='comment'># w/h: used for #zoom_factor, derived with comparison to source_w/h (Sprite method)
</span>  <span class='comment'># source_x/y: position of visible window
</span>  <span class='comment'># source_w/h: extent of visible window.  Unfortunately we can&#39;t clip sprites in half using this method.
</span>  <span class='comment'>#             Therefore, anything even *partially* visible will be *fully* drawn.
</span>
  <span class='comment'># $services&amp;.named(:tracer)&amp;.mark(&quot;CompoundSprite(#{@name})#draw_override: Sprite drawing begin&quot;)
</span>  <span class='comment'># puts &quot;CompoundSprite(#{@name})#draw_override: Sprite drawing begin&quot;
</span>
  <span class='comment'># Throwback to the days before Enumerable, for performance reasons
</span>  <span class='id identifier rubyid_cur_sprite_idx'>cur_sprite_idx</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='id identifier rubyid_total_sprite_length'>total_sprite_length</span> <span class='op'>=</span> <span class='id identifier rubyid_sprites'>sprites</span><span class='period'>.</span><span class='id identifier rubyid_count'>count</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_cur_sprite_idx'>cur_sprite_idx</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_total_sprite_length'>total_sprite_length</span>
    <span class='id identifier rubyid_sprite'>sprite</span> <span class='op'>=</span> <span class='ivar'>@sprites</span><span class='lbracket'>[</span><span class='id identifier rubyid_cur_sprite_idx'>cur_sprite_idx</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cur_sprite_idx'>cur_sprite_idx</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>

    <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_w'>w</span> <span class='op'>=</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_w'>w</span>
    <span class='id identifier rubyid_h'>h</span> <span class='op'>=</span> <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span>

    <span class='comment'># This performs a little better than calling intersect_rect?
</span>    <span class='kw'>next</span> <span class='kw'>if</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span>     <span class='op'>&gt;</span> <span class='id identifier rubyid_cur_source_right'>cur_source_right</span><span class='rparen'>)</span> <span class='op'>||</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span>     <span class='op'>&gt;</span> <span class='id identifier rubyid_cur_source_top'>cur_source_top</span><span class='rparen'>)</span>   <span class='op'>||</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>&lt;</span> <span class='ivar'>@source_x</span><span class='rparen'>)</span>        <span class='op'>||</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span> <span class='op'>+</span> <span class='id identifier rubyid_h'>h</span> <span class='op'>&lt;</span> <span class='ivar'>@source_y</span><span class='rparen'>)</span>

    <span class='id identifier rubyid_ffi_draw'>ffi_draw</span><span class='period'>.</span><span class='id identifier rubyid_draw_sprite_3'>draw_sprite_3</span><span class='lparen'>(</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='ivar'>@source_x</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_x_zoom'>x_zoom</span> <span class='op'>+</span> <span class='ivar'>@x</span><span class='comma'>,</span>
      <span class='lparen'>(</span><span class='id identifier rubyid_y'>y</span> <span class='op'>-</span> <span class='ivar'>@source_y</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_y_zoom'>y_zoom</span> <span class='op'>+</span> <span class='ivar'>@y</span><span class='comma'>,</span>
      <span class='id identifier rubyid_w'>w</span> <span class='op'>*</span> <span class='id identifier rubyid_x_zoom'>x_zoom</span><span class='comma'>,</span>
      <span class='id identifier rubyid_h'>h</span> <span class='op'>*</span> <span class='id identifier rubyid_y_zoom'>y_zoom</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_s_or_default'>s_or_default</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_angle'>angle</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_g'>g</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span>
      <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># Don&#39;t use tile_*
</span>      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_flip_horizontally'>flip_horizontally</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_flip_vertically'>flip_vertically</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_angle_anchor_x'>angle_anchor_x</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_angle_anchor_y'>angle_anchor_y</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_source_x'>source_x</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_source_y'>source_y</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_source_w'>source_w</span><span class='comma'>,</span>
      <span class='id identifier rubyid_sprite'>sprite</span><span class='period'>.</span><span class='id identifier rubyid_source_h'>source_h</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'># $services&amp;.named(:tracer)&amp;.mark(&quot;CompoundSprite(#{@name})#draw_override: Sprite drawing complete&quot;)
</span>  <span class='comment'># puts &quot;CompoundSprite(#{@name})#draw_override: Sprite drawing complete&quot;
</span>
  <span class='id identifier rubyid_labels'>labels</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_label'>label</span><span class='op'>|</span>
    <span class='comment'># TODO: Skip if not in visible window
</span>    <span class='id identifier rubyid_ffi_draw'>ffi_draw</span><span class='period'>.</span><span class='id identifier rubyid_draw_label'>draw_label</span><span class='lparen'>(</span>
      <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>-</span> <span class='ivar'>@source_x</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_x_zoom'>x_zoom</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='ivar'>@x</span><span class='comma'>,</span>
      <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>-</span> <span class='ivar'>@source_y</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_y_zoom'>y_zoom</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='ivar'>@y</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_s_or_default'>s_or_default</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_size_enum'>size_enum</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_alignment_enum'>alignment_enum</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_g'>g</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_b'>b</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span>
      <span class='id identifier rubyid_label'>label</span><span class='period'>.</span><span class='id identifier rubyid_font'>font</span><span class='period'>.</span><span class='id identifier rubyid_s_or_default'>s_or_default</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='comment'># $services&amp;.named(:tracer)&amp;.mark(&quot;CompoundSprite(#{@name})#draw_override: Label drawing complete&quot;)
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="source_rect-instance_method">
  
    #<strong>source_rect</strong>  &#x21d2; <tt>Array&lt;Numeric&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Calls <span class='object_link'><a href="Sprite.html#source_rect-instance_method" title="Zif::Sprite#source_rect (method)">Sprite#source_rect</a></span> after ensuring the <code>source_x</code> etc attrs are set to something.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Numeric&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><dl class="rdoc-list label-list"><dt><span class='object_link'><a href="Sprite.html#source_x-instance_method" title="Zif::Sprite#source_x (method)">Sprite#source_x</a></span>, <span class='object_link'><a href="Sprite.html#source_y-instance_method" title="Zif::Sprite#source_y (method)">Sprite#source_y</a></span>, <span class='object_link'><a href="Sprite.html#source_w-instance_method" title="Zif::Sprite#source_w (method)">Sprite#source_w</a></span>, <span class='object_link'><a href="Sprite.html#source_h-instance_method" title="Zif::Sprite#source_h (method)">Sprite#source_h</a></span>
<dd></dd></dl>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Sprite.html#source_rect-instance_method" title="Zif::Sprite#source_rect (method)">Sprite#source_rect</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


91
92
93
94</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/zif/compound_sprite.rb', line 91</span>

<span class='kw'>def</span> <span class='id identifier rubyid_source_rect'>source_rect</span>
  <span class='id identifier rubyid_view_actual_size!'>view_actual_size!</span> <span class='kw'>unless</span> <span class='id identifier rubyid_source_is_set?'>source_is_set?</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Aug 15 20:07:40 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.2).
</div>

    </div>
  </body>
</html>