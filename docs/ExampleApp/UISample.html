<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: ExampleApp::UISample
  
    &mdash; Documentation by YARD 0.9.34
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "ExampleApp::UISample";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (U)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../ExampleApp.html" title="ExampleApp (module)">ExampleApp</a></span></span>
     &raquo; 
    <span class="title">UISample</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: ExampleApp::UISample
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="ZifExampleScene.html" title="ExampleApp::ZifExampleScene (class)">ZifExampleScene</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Zif/Scene.html" title="Zif::Scene (class)">Zif::Scene</a></span></li>
          
            <li class="next"><span class='object_link'><a href="ZifExampleScene.html" title="ExampleApp::ZifExampleScene (class)">ZifExampleScene</a></span></li>
          
            <li class="next">ExampleApp::UISample</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>app/scenes/ui_sample.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>An example of all the UI elements Also demonstrates usage of services:</p>
<ul><li>
<p>Input service (handles the two button Clickables)</p>
</li><li>
<p>Action service (handles actions “tweening”/“easing” of the Dragon sprite)</p>
</li><li>
<p>Sprite registry (provides a prototype to construct the Dragon sprite by name)</p>
</li><li>
<p>TickTrace service (will get triggered when the “Simulate Lag” button is clicked, reports slow sections of code)</p>
</li></ul>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEBUG_LABEL_COLOR-constant" class="">DEBUG_LABEL_COLOR =
          
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span> <span class='label'>r:</span> <span class='int'>255</span><span class='comma'>,</span> <span class='label'>g:</span> <span class='int'>255</span><span class='comma'>,</span> <span class='label'>b:</span> <span class='int'>255</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#button-instance_method" title="#button (instance method)">#<strong>button</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute button.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#count_progress-instance_method" title="#count_progress (instance method)">#<strong>count_progress</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute count_progress.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#counter-instance_method" title="#counter (instance method)">#<strong>counter</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute counter.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#cur_color-instance_method" title="#cur_color (instance method)">#<strong>cur_color</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute cur_color.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#metal-instance_method" title="#metal (instance method)">#<strong>metal</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute metal.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#random_lengths-instance_method" title="#random_lengths (instance method)">#<strong>random_lengths</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute random_lengths.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="ZifExampleScene.html" title="ExampleApp::ZifExampleScene (class)">ZifExampleScene</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ZifExampleScene.html#next_scene-instance_method" title="ExampleApp::ZifExampleScene#next_scene (method)">#next_scene</a></span>, <span class='object_link'><a href="ZifExampleScene.html#scene_timer-instance_method" title="ExampleApp::ZifExampleScene#scene_timer (method)">#scene_timer</a></span>, <span class='object_link'><a href="ZifExampleScene.html#tracer_service_name-instance_method" title="ExampleApp::ZifExampleScene#tracer_service_name (method)">#tracer_service_name</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="../Zif/Traceable.html" title="Zif::Traceable (module)">Zif::Traceable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Zif/Traceable.html#tracer_service_name-instance_method" title="Zif::Traceable#tracer_service_name (method)">#tracer_service_name</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#change_color-instance_method" title="#change_color (instance method)">#<strong>change_color</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>rubocop:enable Metrics/AbcSize rubocop:enable Metrics/MethodLength rubocop:enable Layout/LineLength.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#color_should_change%3F-instance_method" title="#color_should_change? (instance method)">#<strong>color_should_change?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; UISample </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of UISample.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#perform_tick-instance_method" title="#perform_tick (instance method)">#<strong>perform_tick</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#prepare_scene-instance_method" title="#prepare_scene (instance method)">#<strong>prepare_scene</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>#prepare_scene and #unload_scene are called by Game before the scene gets run for the first time, and after it detects a scene change has been requested, respectively This is a good spot to set up services, and manually control the global $gtk.args.outputs rubocop:disable Metrics/AbcSize rubocop:disable Metrics/MethodLength rubocop:disable Layout/LineLength.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_form_field_status-instance_method" title="#update_form_field_status (instance method)">#<strong>update_form_field_status</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_glass_panel-instance_method" title="#update_glass_panel (instance method)">#<strong>update_glass_panel</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_interactable_button-instance_method" title="#update_interactable_button (instance method)">#<strong>update_interactable_button</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_metal_panel-instance_method" title="#update_metal_panel (instance method)">#<strong>update_metal_panel</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_progress_bar-instance_method" title="#update_progress_bar (instance method)">#<strong>update_progress_bar</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="ZifExampleScene.html" title="ExampleApp::ZifExampleScene (class)">ZifExampleScene</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="ZifExampleScene.html#display_context_labels-instance_method" title="ExampleApp::ZifExampleScene#display_context_labels (method)">#display_context_labels</a></span>, <span class='object_link'><a href="ZifExampleScene.html#display_timer_bar-instance_method" title="ExampleApp::ZifExampleScene#display_timer_bar (method)">#display_timer_bar</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Zif/Traceable.html" title="Zif::Traceable (module)">Zif::Traceable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Zif/Traceable.html#mark-instance_method" title="Zif::Traceable#mark (method)">#mark</a></span>, <span class='object_link'><a href="../Zif/Traceable.html#mark_and_print-instance_method" title="Zif::Traceable#mark_and_print (method)">#mark_and_print</a></span>, <span class='object_link'><a href="../Zif/Traceable.html#mark_prefix-instance_method" title="Zif::Traceable#mark_prefix (method)">#mark_prefix</a></span>, <span class='object_link'><a href="../Zif/Traceable.html#tracer-instance_method" title="Zif::Traceable#tracer (method)">#tracer</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Zif/Scene.html" title="Zif::Scene (class)">Zif::Scene</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Zif/Scene.html#unload_scene-instance_method" title="Zif::Scene#unload_scene (method)">#unload_scene</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Zif/Serializable.html" title="Zif::Serializable (module)">Zif::Serializable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Zif/Serializable.html#exclude_from_serialize-instance_method" title="Zif::Serializable#exclude_from_serialize (method)">#exclude_from_serialize</a></span>, <span class='object_link'><a href="../Zif/Serializable.html#inspect-instance_method" title="Zif::Serializable#inspect (method)">#inspect</a></span>, <span class='object_link'><a href="../Zif/Serializable.html#serialize-instance_method" title="Zif::Serializable#serialize (method)">#serialize</a></span>, <span class='object_link'><a href="../Zif/Serializable.html#to_s-instance_method" title="Zif::Serializable#to_s (method)">#to_s</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="ExampleApp::UISample (class)">UISample</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of UISample.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='comment'># See ZifExampleScene for info on super and next_scene
</span>  <span class='kw'>super</span>
  <span class='ivar'>@next_scene</span> <span class='op'>=</span> <span class='symbol'>:load_world</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="button=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="button-instance_method">
  
    #<strong>button</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute button.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_button'>button</span>
  <span class='ivar'>@button</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="count_progress=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="count_progress-instance_method">
  
    #<strong>count_progress</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute count_progress.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_count_progress'>count_progress</span>
  <span class='ivar'>@count_progress</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="counter=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="counter-instance_method">
  
    #<strong>counter</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute counter.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_counter'>counter</span>
  <span class='ivar'>@counter</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="cur_color=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="cur_color-instance_method">
  
    #<strong>cur_color</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute cur_color.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_cur_color'>cur_color</span>
  <span class='ivar'>@cur_color</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="metal=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="metal-instance_method">
  
    #<strong>metal</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute metal.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_metal'>metal</span>
  <span class='ivar'>@metal</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="random_lengths=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="random_lengths-instance_method">
  
    #<strong>random_lengths</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute random_lengths.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


9
10
11</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 9</span>

<span class='kw'>def</span> <span class='id identifier rubyid_random_lengths'>random_lengths</span>
  <span class='ivar'>@random_lengths</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="change_color-instance_method">
  
    #<strong>change_color</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>rubocop:enable Metrics/AbcSize rubocop:enable Metrics/MethodLength rubocop:enable Layout/LineLength</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


267
268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 267</span>

<span class='kw'>def</span> <span class='id identifier rubyid_change_color'>change_color</span>
  <span class='ivar'>@cur_color</span> <span class='op'>=</span> <span class='qsymbols_beg'>%i[</span><span class='tstring_content'>blue</span><span class='words_sep'> </span><span class='tstring_content'>green</span><span class='words_sep'> </span><span class='tstring_content'>red</span><span class='words_sep'> </span><span class='tstring_content'>white</span><span class='words_sep'> </span><span class='tstring_content'>yellow</span><span class='tstring_end'>]</span></span><span class='period'>.</span><span class='id identifier rubyid_sample'>sample</span>
  <span class='lbracket'>[</span>
    <span class='ivar'>@changing_button</span><span class='comma'>,</span>
    <span class='ivar'>@metal</span><span class='comma'>,</span>
    <span class='ivar'>@prog</span><span class='comma'>,</span>
    <span class='ivar'>@count_progress</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_color_changing'>color_changing</span><span class='op'>|</span>
    <span class='id identifier rubyid_color_changing'>color_changing</span><span class='op'>&amp;.</span><span class='id identifier rubyid_change_color'>change_color</span><span class='lparen'>(</span><span class='ivar'>@cur_color</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="color_should_change?-instance_method">
  
    #<strong>color_should_change?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


279
280
281</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 279</span>

<span class='kw'>def</span> <span class='id identifier rubyid_color_should_change?'>color_should_change?</span>
  <span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span> <span class='op'>%</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_zero?'>zero?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="perform_tick-instance_method">
  
    #<strong>perform_tick</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 283</span>

<span class='kw'>def</span> <span class='id identifier rubyid_perform_tick'>perform_tick</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#perform_tick: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_outputs'>outputs</span><span class='period'>.</span><span class='id identifier rubyid_background_color'>background_color</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_change_color'>change_color</span> <span class='kw'>if</span> <span class='id identifier rubyid_color_should_change?'>color_should_change?</span>

  <span class='id identifier rubyid_update_metal_panel'>update_metal_panel</span>
  <span class='id identifier rubyid_update_glass_panel'>update_glass_panel</span>
  <span class='id identifier rubyid_update_progress_bar'>update_progress_bar</span>
  <span class='id identifier rubyid_update_interactable_button'>update_interactable_button</span>
  <span class='id identifier rubyid_update_form_field_status'>update_form_field_status</span>

  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#perform_tick: finished updates</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_finished'>finished</span> <span class='op'>=</span> <span class='kw'>super</span>

  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#perform_tick: finished super</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_finished'>finished</span> <span class='kw'>if</span> <span class='id identifier rubyid_finished'>finished</span>

  <span class='ivar'>@force_next_scene</span> <span class='op'>||=</span> <span class='ivar'>@load_next_scene_next_tick</span> <span class='comment'># rubocop:disable Naming/MemoizedInstanceVariableName
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prepare_scene-instance_method">
  
    #<strong>prepare_scene</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>#prepare_scene and #unload_scene are called by Game before the scene gets run for the first time, and after it detects a scene change has been requested, respectively This is a good spot to set up services, and manually control the global $gtk.args.outputs rubocop:disable Metrics/AbcSize rubocop:disable Metrics/MethodLength rubocop:disable Layout/LineLength</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prepare_scene'>prepare_scene</span>
  <span class='kw'>super</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#prepare_scene: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='comment'># Just some shared random numbers
</span>  <span class='ivar'>@random_lengths</span> <span class='op'>=</span> <span class='const'>Array</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>160</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='int'>40</span> <span class='rbrace'>}</span>

  <span class='comment'># Choose a random color to use for the various elements.
</span>  <span class='id identifier rubyid_change_color'>change_color</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># Panels
</span>
  <span class='ivar'>@glass</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="GlassPanel.html" title="ExampleApp::GlassPanel (class)">GlassPanel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="GlassPanel.html#initialize-instance_method" title="ExampleApp::GlassPanel#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='int'>600</span><span class='comma'>,</span> <span class='int'>600</span><span class='rparen'>)</span>
  <span class='ivar'>@glass</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>550</span>
  <span class='ivar'>@glass</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>60</span>
  <span class='ivar'>@glass_label</span> <span class='op'>=</span> <span class='lbrace'>{</span> <span class='label'>x:</span> <span class='int'>600</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>685</span><span class='comma'>,</span> <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Glass panel cuts: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@glass</span><span class='period'>.</span><span class='id identifier rubyid_cuts'>cuts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>=</span> <span class='int'>64</span> <span class='op'>+</span> <span class='int'>200</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>200</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span>
  <span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>=</span> <span class='int'>64</span> <span class='op'>+</span> <span class='int'>200</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>200</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span>
  <span class='ivar'>@metal</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="MetalPanel.html" title="ExampleApp::MetalPanel (class)">MetalPanel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MetalPanel.html#initialize-instance_method" title="ExampleApp::MetalPanel#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cur_w'>cur_w</span><span class='comma'>,</span> <span class='id identifier rubyid_cur_h'>cur_h</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello World</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='ivar'>@cur_color</span><span class='rparen'>)</span>
  <span class='ivar'>@metal</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>20</span>
  <span class='ivar'>@metal</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>160</span>
  <span class='ivar'>@metal_label</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>x:</span>    <span class='int'>20</span><span class='comma'>,</span>
    <span class='label'>y:</span>    <span class='int'>660</span><span class='comma'>,</span>
    <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Scaling custom 9-slice</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='comment'># This is the center gray &quot;cutout&quot; inside the metal panel
</span>  <span class='ivar'>@cutout</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="MetalCutout.html" title="ExampleApp::MetalCutout (class)">MetalCutout</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="MetalCutout.html#initialize-instance_method" title="ExampleApp::MetalCutout#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>-</span> <span class='int'>50</span><span class='comma'>,</span> <span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>-</span> <span class='int'>100</span><span class='rparen'>)</span>
  <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>20</span> <span class='op'>+</span> <span class='int'>25</span>
  <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>160</span> <span class='op'>+</span> <span class='int'>25</span>

  <span class='ivar'>@wrapping_label</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FutureLabel.html" title="ExampleApp::FutureLabel (class)">FutureLabel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FutureLabel.html#initialize-instance_method" title="ExampleApp::FutureLabel#initialize (method)">new</a></span></span><span class='lparen'>(</span>
    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Lorem ipsum\ndolor sit\namet,\nconsectetur adipiscing\n\nelit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='label'>size:</span>      <span class='op'>-</span><span class='int'>2</span><span class='comma'>,</span>
    <span class='label'>alignment:</span> <span class='symbol'>:left</span><span class='comma'>,</span>
    <span class='label'>blend:</span>     <span class='symbol'>:alpha</span>
  <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_l'>l</span><span class='op'>|</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>+</span> <span class='int'>10</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>+</span> <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>-</span> <span class='int'>10</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_r'>r</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_g'>g</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_b'>b</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='id identifier rubyid_l'>l</span><span class='period'>.</span><span class='id identifier rubyid_a'>a</span> <span class='op'>=</span> <span class='int'>255</span>
  <span class='kw'>end</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># Progress bars
</span>  <span class='ivar'>@count_progress</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ProgressBar.html" title="ExampleApp::ProgressBar (class)">ProgressBar</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ProgressBar.html#initialize-instance_method" title="ExampleApp::ProgressBar#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:count_progress</span><span class='comma'>,</span> <span class='int'>400</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='ivar'>@cur_color</span><span class='rparen'>)</span>
  <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
  <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>410</span>
  <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_view_actual_size!'>view_actual_size!</span>
  <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_hide'>hide</span>

  <span class='ivar'>@prog</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ProgressBar.html" title="ExampleApp::ProgressBar (class)">ProgressBar</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ProgressBar.html#initialize-instance_method" title="ExampleApp::ProgressBar#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:progress</span><span class='comma'>,</span> <span class='int'>150</span><span class='comma'>,</span> <span class='float'>0.5</span><span class='comma'>,</span> <span class='ivar'>@cur_color</span><span class='rparen'>)</span>
  <span class='ivar'>@prog</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
  <span class='ivar'>@prog</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>580</span>
  <span class='ivar'>@prog_label</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>x:</span>    <span class='int'>600</span><span class='comma'>,</span>
    <span class='label'>y:</span>    <span class='int'>640</span><span class='comma'>,</span>
    <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Progress bar: width 150, progress 50%</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># Buttons
</span>  <span class='comment'>#
</span>  <span class='comment'># TwoStageButton (which TallButton inherits from) accepts a block in the constructor
</span>  <span class='comment'># The block is executed when the button is registered as a clickable, and it receives the mouse up event
</span>  <span class='comment'># You can give sprites callback functions for on_mouse_down, .._changed (mouse is moving while down), and .._up
</span>  <span class='comment'># In this case, the TwoStageButton initializer sets on_mouse_down and on_mouse_changed automatically
</span>  <span class='comment'># This is because as a button, it needs to update whether or not it is_pressed based on the mouse point.
</span>  <span class='ivar'>@counter</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@button</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TallButton.html" title="ExampleApp::TallButton (class)">TallButton</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TallButton.html#initialize-instance_method" title="ExampleApp::TallButton#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:static_button</span><span class='comma'>,</span> <span class='int'>300</span><span class='comma'>,</span> <span class='symbol'>:blue</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Press Me</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_point'>point</span><span class='op'>|</span>
    <span class='comment'># You should check the state of the button as it&#39;s possible to click down on the button, but then move the mouse
</span>    <span class='comment'># away and let go of the mouse away from the button
</span>    <span class='comment'># The state is updated automatically in the on_mouse_changed callback created by the TwoStageButton initializer
</span>    <span class='kw'>if</span> <span class='ivar'>@button</span><span class='period'>.</span><span class='id identifier rubyid_is_pressed'>is_pressed</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UISample: Button on_mouse_up, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='embexpr_end'>}</span><span class='tstring_content'>: mouse inside button. Pressed!</span><span class='tstring_end'>&quot;</span></span>
      <span class='ivar'>@counter</span> <span class='op'>+=</span> <span class='int'>1</span>

      <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span> <span class='kw'>if</span> <span class='ivar'>@counter</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='ivar'>@count_progress</span><span class='period'>.</span><span class='id identifier rubyid_progress'>progress</span> <span class='op'>=</span> <span class='ivar'>@counter</span> <span class='op'>/</span> <span class='float'>10.0</span>

      <span class='ivar'>@load_next_scene_next_tick</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='ivar'>@counter</span> <span class='op'>&gt;=</span> <span class='int'>10</span>

      <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_run_animation_sequence'>run_animation_sequence</span><span class='lparen'>(</span><span class='symbol'>:coast</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>UISample: Button on_mouse_up, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_point'>point</span><span class='embexpr_end'>}</span><span class='tstring_content'>: mouse outside button. Not pressed.</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@button</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
  <span class='ivar'>@button</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>350</span>
  <span class='ivar'>@button_label</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>x:</span>    <span class='int'>600</span><span class='comma'>,</span>
    <span class='label'>y:</span>    <span class='int'>550</span><span class='comma'>,</span>
    <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Buttons.</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='ivar'>@form_field</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FormField.html" title="ExampleApp::FormField (class)">FormField</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FormField.html#initialize-instance_method" title="ExampleApp::FormField#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='label'>x:</span> <span class='int'>20</span><span class='comma'>,</span> <span class='label'>y:</span> <span class='int'>115</span><span class='comma'>,</span> <span class='label'>label:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Text Input: </span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>char_width:</span> <span class='int'>28</span><span class='rparen'>)</span>
  <span class='ivar'>@form_field_status</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>x:</span>    <span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span>
    <span class='label'>y:</span>    <span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>-</span> <span class='int'>5</span><span class='comma'>,</span>
    <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Form Field Has Focus: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_focused?'>focused?</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='comment'># We need a full-screen overlay which does not absorb clicks to test for losing focus on the form field
</span>  <span class='ivar'>@focus_check</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="FocusCheck.html" title="ExampleApp::FocusCheck (class)">FocusCheck</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="FocusCheck.html#initialize-instance_method" title="ExampleApp::FocusCheck#initialize (method)">new</a></span></span>
  <span class='ivar'>@focus_check</span><span class='period'>.</span><span class='id identifier rubyid_on_mouse_down'>on_mouse_down</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='id identifier rubyid__sprite'>_sprite</span><span class='comma'>,</span> <span class='id identifier rubyid__point'>_point</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_lose_focus'>lose_focus</span> <span class='rbrace'>}</span>

  <span class='ivar'>@delay_button</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TallButton.html" title="ExampleApp::TallButton (class)">TallButton</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TallButton.html#initialize-instance_method" title="ExampleApp::TallButton#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:delay_button</span><span class='comma'>,</span> <span class='int'>300</span><span class='comma'>,</span> <span class='symbol'>:red</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Simulate Lag</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid__point'>_point</span><span class='op'>|</span>
    <span class='id identifier rubyid_mark_and_print'>mark_and_print</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>delay_button: Button was clicked - demonstrating Tick Trace service</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_sleep'>sleep</span><span class='lparen'>(</span><span class='float'>0.5</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mark_and_print'>mark_and_print</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>delay_button: Woke up from 500ms second nap</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@delay_button</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
  <span class='ivar'>@delay_button</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>240</span>

  <span class='comment'># Using #tap is common ruby pattern.  It just yields the object to the given block and then returns the object.
</span>  <span class='comment'># It&#39;s an alternative to the pattern of setting a @ivar = Foo.new .. and then repetitively setting @ivar.bar = baz
</span>  <span class='ivar'>@changing_button</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="TallButton.html" title="ExampleApp::TallButton (class)">TallButton</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="TallButton.html#initialize-instance_method" title="ExampleApp::TallButton#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='symbol'>:colorful_button</span><span class='comma'>,</span> <span class='int'>20</span><span class='comma'>,</span> <span class='ivar'>@cur_color</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Don&#39;t Press Me</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span>
    <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
    <span class='id identifier rubyid_b'>b</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>470</span>
  <span class='kw'>end</span>

  <span class='ivar'>@changing_button</span><span class='period'>.</span><span class='id identifier rubyid_run_action'>run_action</span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Zif/Actions.html" title="Zif::Actions (module)">Actions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Zif/Actions/Sequence.html" title="Zif::Actions::Sequence (class)">Sequence</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Zif/Actions/Sequence.html#initialize-instance_method" title="Zif::Actions::Sequence#initialize (method)">new</a></span></span><span class='lparen'>(</span>
      <span class='lbracket'>[</span>
        <span class='ivar'>@changing_button</span><span class='period'>.</span><span class='id identifier rubyid_new_action'>new_action</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>width:</span> <span class='int'>420</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>duration:</span> <span class='int'>2</span><span class='period'>.</span><span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='label'>easing:</span> <span class='symbol'>:linear</span><span class='rparen'>)</span><span class='comma'>,</span>
        <span class='ivar'>@changing_button</span><span class='period'>.</span><span class='id identifier rubyid_new_action'>new_action</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>width:</span> <span class='int'>20</span><span class='rbrace'>}</span><span class='comma'>,</span>  <span class='label'>duration:</span> <span class='int'>2</span><span class='period'>.</span><span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='label'>easing:</span> <span class='symbol'>:linear</span><span class='rparen'>)</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>repeat:</span> <span class='symbol'>:forever</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># Basic sprites
</span>  <span class='comment'>#
</span>  <span class='comment'># Create a sprite from a prototype registered in the Sprite Registry service
</span>  <span class='comment'># This returns a Zif::Sprite with the proper w/h/path settings
</span>  <span class='ivar'>@dragon</span> <span class='op'>=</span> <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:sprite_registry</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_construct'>construct</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>dragon_1</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='int'>600</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='int'>100</span>
  <span class='kw'>end</span>

  <span class='comment'># Run some action sequences on this sprite
</span>  <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_run_action'>run_action</span><span class='lparen'>(</span><span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_fade_out_and_in_forever'>fade_out_and_in_forever</span><span class='rparen'>)</span>
  <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_run_action'>run_action</span><span class='lparen'>(</span>
    <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Zif/Actions.html" title="Zif::Actions (module)">Actions</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Zif/Actions/Sequence.html" title="Zif::Actions::Sequence (class)">Sequence</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Zif/Actions/Sequence.html#initialize-instance_method" title="Zif::Actions::Sequence#initialize (method)">new</a></span></span><span class='lparen'>(</span>
      <span class='lbracket'>[</span>
        <span class='comment'># Move from starting position to 1000x over 1 second, starting slowly, then flip the sprite at the end
</span>        <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_new_action'>new_action</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>x:</span> <span class='int'>1000</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>duration:</span> <span class='int'>1</span><span class='period'>.</span><span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='label'>easing:</span> <span class='symbol'>:smooth_start</span><span class='rparen'>)</span> <span class='kw'>do</span>
          <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_flip_horizontally'>flip_horizontally</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='kw'>end</span><span class='comma'>,</span>
        <span class='comment'># Move from the new position (1000x) back to the start 600x over 2 seconds, stopping slowly, then flip again
</span>        <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_new_action'>new_action</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='label'>x:</span> <span class='int'>600</span><span class='rbrace'>}</span><span class='comma'>,</span> <span class='label'>duration:</span> <span class='int'>2</span><span class='period'>.</span><span class='id identifier rubyid_seconds'>seconds</span><span class='comma'>,</span> <span class='label'>easing:</span> <span class='symbol'>:smooth_stop</span><span class='rparen'>)</span> <span class='kw'>do</span>
          <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_flip_horizontally'>flip_horizontally</span> <span class='op'>=</span> <span class='kw'>false</span>
        <span class='kw'>end</span>
      <span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='label'>repeat:</span> <span class='symbol'>:forever</span>
    <span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_new_basic_animation'>new_basic_animation</span><span class='lparen'>(</span>
    <span class='label'>named:</span>               <span class='symbol'>:fly</span><span class='comma'>,</span>
    <span class='label'>paths_and_durations:</span> <span class='int'>1</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dragon_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id identifier rubyid_downto'>downto</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dragon_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>4</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
  <span class='rparen'>)</span>

  <span class='comment'># This is an example of a one-off animation which returns to a looping animation when complete
</span>  <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_new_basic_animation'>new_basic_animation</span><span class='lparen'>(</span>
    <span class='label'>named:</span>               <span class='symbol'>:coast</span><span class='comma'>,</span>
    <span class='label'>paths_and_durations:</span> <span class='int'>1</span><span class='period'>.</span><span class='id identifier rubyid_upto'>upto</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dragon_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12</span><span class='rbracket'>]</span> <span class='rbrace'>}</span> <span class='op'>+</span> <span class='int'>3</span><span class='period'>.</span><span class='id identifier rubyid_downto'>downto</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>dragon_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_i'>i</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>12</span><span class='rbracket'>]</span> <span class='rbrace'>}</span><span class='comma'>,</span>
    <span class='label'>repeat:</span>              <span class='int'>2</span>
  <span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_run_animation_sequence'>run_animation_sequence</span><span class='lparen'>(</span><span class='symbol'>:fly</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_run_animation_sequence'>run_animation_sequence</span><span class='lparen'>(</span><span class='symbol'>:fly</span><span class='rparen'>)</span>

  <span class='ivar'>@animation_label</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>x:</span>    <span class='int'>600</span><span class='comma'>,</span>
    <span class='label'>y:</span>    <span class='int'>200</span><span class='comma'>,</span>
  <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># Info Labels
</span>
  <span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_outputs'>outputs</span><span class='period'>.</span><span class='id identifier rubyid_static_labels'>static_labels</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
    <span class='ivar'>@glass_label</span><span class='comma'>,</span>
    <span class='ivar'>@prog_label</span><span class='comma'>,</span>
    <span class='ivar'>@button_label</span><span class='comma'>,</span>
    <span class='ivar'>@metal_label</span><span class='comma'>,</span>
    <span class='ivar'>@form_field_status</span><span class='comma'>,</span>
    <span class='lbrace'>{</span>
      <span class='label'>x:</span>    <span class='int'>600</span><span class='comma'>,</span>
      <span class='label'>y:</span>    <span class='int'>320</span><span class='comma'>,</span>
      <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Test the TickTraceService (see console output)</span><span class='tstring_end'>&#39;</span></span>
    <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#DEBUG_LABEL_COLOR-constant" title="ExampleApp::UISample::DEBUG_LABEL_COLOR (constant)">DEBUG_LABEL_COLOR</a></span></span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='ivar'>@animation_label</span>
  <span class='rbracket'>]</span>

  <span class='comment'># -------------------------------------------------------------------------
</span>  <span class='comment'># You have to explicity tell the action and input services which sprites to handle
</span>  <span class='comment'># Clickables must be registered with the input service to be tested when a click is detected
</span>  <span class='comment'># Actionables must be registered with the action service to be notified to update based on the running Actions
</span>  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:action_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_actionable'>register_actionable</span><span class='lparen'>(</span><span class='ivar'>@changing_button</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:action_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_actionable'>register_actionable</span><span class='lparen'>(</span><span class='ivar'>@dragon</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:input_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_clickable'>register_clickable</span><span class='lparen'>(</span><span class='ivar'>@focus_check</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:input_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_clickable'>register_clickable</span><span class='lparen'>(</span><span class='ivar'>@button</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:input_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_clickable'>register_clickable</span><span class='lparen'>(</span><span class='ivar'>@delay_button</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:input_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_clickable'>register_clickable</span><span class='lparen'>(</span><span class='ivar'>@form_field</span><span class='rparen'>)</span>
  <span class='gvar'>$game</span><span class='period'>.</span><span class='id identifier rubyid_services'>services</span><span class='lbracket'>[</span><span class='symbol'>:input_service</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_register_key_pressable'>register_key_pressable</span><span class='lparen'>(</span><span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='rparen'>)</span>

  <span class='comment'># If you&#39;re retaining a reference to sprites that will be displayed across every tick, it&#39;s best for performance
</span>  <span class='comment'># reasons if you use the static_sprites output.  You can always set the alpha of a sprite to zero to temporarily
</span>  <span class='comment'># hide it.  This technique is used with @cutout and @count_progress, etc.
</span>  <span class='comment'># So we set static_sprites here in #prepare_scene rather than #perform_tick because it only needs to happen once.
</span>  <span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_outputs'>outputs</span><span class='period'>.</span><span class='id identifier rubyid_static_sprites'>static_sprites</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span>
    <span class='comment'># --- Panels ---
</span>    <span class='ivar'>@glass</span><span class='comma'>,</span>
    <span class='ivar'>@metal</span><span class='comma'>,</span>
    <span class='comment'># Make sure the cutout is after metal, since it&#39;s on top.
</span>    <span class='ivar'>@cutout</span><span class='comma'>,</span>
    <span class='comment'># --- Input field ---
</span>    <span class='ivar'>@form_field</span><span class='comma'>,</span>
    <span class='comment'># --- Buttons ---
</span>    <span class='ivar'>@button</span><span class='comma'>,</span>
    <span class='ivar'>@delay_button</span><span class='comma'>,</span>
    <span class='ivar'>@changing_button</span><span class='comma'>,</span>
    <span class='comment'># --- Progress Bars ---
</span>    <span class='ivar'>@count_progress</span><span class='comma'>,</span>
    <span class='ivar'>@prog</span><span class='comma'>,</span>
    <span class='comment'># --- Sprites ---
</span>    <span class='ivar'>@dragon</span>
  <span class='rbracket'>]</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#prepare_scene: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_form_field_status-instance_method">
  
    #<strong>update_form_field_status</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355
356
357</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_form_field_status'>update_form_field_status</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_form_field_status: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='ivar'>@form_field_status</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Form Field Has Focus: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@form_field</span><span class='period'>.</span><span class='id identifier rubyid_input'>input</span><span class='period'>.</span><span class='id identifier rubyid_focused?'>focused?</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_form_field_status: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_glass_panel-instance_method">
  
    #<strong>update_glass_panel</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_glass_panel'>update_glass_panel</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_glass_panel: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cuts'>cuts</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>%04b</span><span class='tstring_end'>&#39;</span></span> <span class='op'>%</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span> <span class='op'>/</span> <span class='int'>60</span><span class='rparen'>)</span> <span class='op'>%</span> <span class='int'>16</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_chars'>chars</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_bit'>bit</span><span class='op'>|</span> <span class='id identifier rubyid_bit'>bit</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>
  <span class='ivar'>@glass</span><span class='period'>.</span><span class='id identifier rubyid_change_cuts'>change_cuts</span><span class='lparen'>(</span><span class='id identifier rubyid_cuts'>cuts</span><span class='rparen'>)</span>
  <span class='ivar'>@glass_label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Glass panel cuts: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@glass</span><span class='period'>.</span><span class='id identifier rubyid_cuts'>cuts</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@animation_label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>A sprite (animating: </span><span class='embexpr_beg'>#{</span><span class='ivar'>@dragon</span><span class='period'>.</span><span class='id identifier rubyid_cur_animation'>cur_animation</span><span class='embexpr_end'>}</span><span class='tstring_content'>) with repeating actions:</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_glass_panel: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_interactable_button-instance_method">
  
    #<strong>update_interactable_button</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349
350
351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 345</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_interactable_button'>update_interactable_button</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_interactable_button: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_label_text'>label_text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Buttons.  </span><span class='embexpr_beg'>#{</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='ivar'>@counter</span><span class='embexpr_end'>}</span><span class='tstring_content'>/10 </span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='ivar'>@counter</span><span class='period'>.</span><span class='id identifier rubyid_positive?'>positive?</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_label_text'>label_text</span> <span class='op'>+=</span> <span class='lparen'>(</span><span class='ivar'>@button</span><span class='period'>.</span><span class='id identifier rubyid_is_pressed'>is_pressed</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>It&#39;s pressed!</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Press one.</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='ivar'>@button_label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_label_text'>label_text</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_interactable_button: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_metal_panel-instance_method">
  
    #<strong>update_metal_panel</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 304</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_metal_panel'>update_metal_panel</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_metal_panel: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>=</span> <span class='int'>64</span> <span class='op'>+</span> <span class='int'>200</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>200</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span>
  <span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>=</span> <span class='int'>64</span> <span class='op'>+</span> <span class='int'>200</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>200</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span>

  <span class='ivar'>@metal</span><span class='period'>.</span><span class='id identifier rubyid_resize'>resize</span><span class='lparen'>(</span><span class='id identifier rubyid_cur_w'>cur_w</span><span class='comma'>,</span> <span class='id identifier rubyid_cur_h'>cur_h</span><span class='rparen'>)</span>
  <span class='ivar'>@metal_label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Scaling custom 9-slice: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cur_w'>cur_w</span><span class='embexpr_end'>}</span><span class='tstring_content'>x</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cur_h'>cur_h</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>

  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>&gt;</span> <span class='int'>75</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>&gt;</span> <span class='int'>120</span><span class='rparen'>)</span>
    <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_show'>show</span>
    <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_resize'>resize</span><span class='lparen'>(</span><span class='id identifier rubyid_cur_w'>cur_w</span> <span class='op'>-</span> <span class='int'>50</span><span class='comma'>,</span> <span class='id identifier rubyid_cur_h'>cur_h</span> <span class='op'>-</span> <span class='int'>100</span><span class='rparen'>)</span>
    <span class='ivar'>@wrapping_label</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>+</span> <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>-</span> <span class='int'>10</span>
    <span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_outputs'>outputs</span><span class='period'>.</span><span class='id identifier rubyid_labels'>labels</span> <span class='op'>&lt;&lt;</span> <span class='ivar'>@wrapping_label</span><span class='period'>.</span><span class='id identifier rubyid_wrap'>wrap</span><span class='lparen'>(</span><span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_w'>w</span> <span class='op'>-</span> <span class='int'>20</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_take'>take</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_h'>h</span> <span class='op'>-</span> <span class='int'>20</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_idiv'>idiv</span><span class='lparen'>(</span><span class='int'>18</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@cutout</span><span class='period'>.</span><span class='id identifier rubyid_hide'>hide</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_metal_panel: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_progress_bar-instance_method">
  
    #<strong>update_progress_bar</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


332
333
334
335
336
337
338
339
340
341
342
343</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'app/scenes/ui_sample.rb', line 332</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_progress_bar'>update_progress_bar</span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_progress_bar: begin</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cur_progress'>cur_progress</span>       <span class='op'>=</span> <span class='lparen'>(</span><span class='float'>0.5</span> <span class='op'>+</span> <span class='float'>0.5</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='lparen'>(</span><span class='int'>4</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_cur_progress_width'>cur_progress_width</span> <span class='op'>=</span> <span class='int'>150</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>50</span> <span class='op'>*</span> <span class='const'><span class='object_link'><a href="../Zif.html" title="Zif (module)">Zif</a></span></span><span class='period'>.</span><span class='id identifier rubyid_ease'><span class='object_link'><a href="../Zif.html#ease-class_method" title="Zif.ease (method)">ease</a></span></span><span class='lparen'>(</span><span class='gvar'>$gtk</span><span class='period'>.</span><span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_tick_count'>tick_count</span><span class='comma'>,</span> <span class='ivar'>@random_lengths</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span>

  <span class='ivar'>@prog</span><span class='period'>.</span><span class='id identifier rubyid_progress'>progress</span> <span class='op'>=</span> <span class='id identifier rubyid_cur_progress'>cur_progress</span>
  <span class='ivar'>@prog</span><span class='period'>.</span><span class='id identifier rubyid_resize_width'>resize_width</span><span class='lparen'>(</span><span class='id identifier rubyid_cur_progress_width'>cur_progress_width</span><span class='rparen'>)</span>
  <span class='ivar'>@prog</span><span class='period'>.</span><span class='id identifier rubyid_view_actual_size!'>view_actual_size!</span>

  <span class='ivar'>@prog_label</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Progress bar: width </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cur_progress_width'>cur_progress_width</span><span class='embexpr_end'>}</span><span class='tstring_content'>, progress </span><span class='embexpr_beg'>#{</span><span class='lparen'>(</span><span class='id identifier rubyid_cur_progress'>cur_progress</span> <span class='op'>*</span> <span class='int'>100</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_mark'>mark</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#update_progress_bar: complete</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Aug 26 12:12:27 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.2.2).
</div>

    </div>
  </body>
</html>